{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020/06/07/","result":{"data":{"site":{"siteMetadata":{"title":"SetValue.NET","author":"Raúl Fernández de Córdoba","siteUrl":"http://setvalue.net/","description":"Noticias, actualizaciones y mis experiencias sobre el mundo de las soluciones cloud","social":{"twitter":"rfcm83","facebook":"","linkedin":"rfcm83","github":"rfcm83","email":"rfcm83@gmail.com","rss":"https://feeds.feedburner.com/setvalue.net"}}},"markdownRemark":{"id":"616140f3-5596-5299-8d9e-2fdb85bf76ac","excerpt":"Generic badge Azure Static Web App Static Web App es el nuevo servicio PaaS que se ha publicado hace unas semanas en el Portal de Azure. Este servicio permite…","html":"<p><a href=\"https://github.com/rfcm83/DemoGatsbyJS/\"><img src=\"https://img.shields.io/badge/rfcm83-DemoGatsbyJS-%3CCOLOR%3E.svg\" alt=\"Generic badge\"></a></p>\n<h2>Azure Static Web App</h2>\n<p><strong>Static Web App</strong> es el nuevo servicio <em>PaaS</em> que se ha publicado hace unas semanas en el Portal de Azure. Este servicio permite desplegar automáticamente webs full stack desde un repositorio de GitHub.</p>\n<p>Este tipo de aplicaciones habitualmente son construidas con frameworks como React, Vue o Angular, y su resultado son un conjunto de ficheros HTML, JavaScript y CSS, además de las imágenes que componen el sitio.</p>\n<h3>Ventajas</h3>\n<h4>Fundamentales</h4>\n<p>En primer lugar, es gratis, decir hosting gratis y Azure en la misma frase no suele ser muy habitual. Por otro, tiene geo-replicación, un servicio de Azure con geo-replicación y gratis tampoco es habitual. Un servicio <em>free</em> con replicación alrededor del mundo para permitir así que la web app sirva los ficheros más rápidamente al usuario que los consume, es algo que me parece increíble.</p>\n<p>Por si esto fuera poco, tiene una API integrada que te permite conectar a Azure Functions para poder ampliar la funcionalidad del sitio estático.</p>\n<p>Se integra con un repositorio de GitHub, y se actualiza con una <em>Action</em> -autogenerada por el servicio y que puedes personalizar- desencadenada cuando se produce un cambio en el repositorio asociado.</p>\n<p>Versiones de Staging que se generan a partir de Pull Requests, lo que permite previsualizar el sitio en un <em>slot</em> antes de publicarlo definitivamente.</p>\n<p>Custom Domains, esta funcionalidad en las Web App depende de un Service Plan de pago, aquí se puede poner sin necesidad de pasar por caja.</p>\n<p>Reglas de enrutamiento al back-end mediante un fichero <code class=\"language-text\">routes.json</code> para tener un control total sobre el contenido.</p>\n<h4>Seguridad</h4>\n<p>A nivel de seguridad del sitio, certificados SSL gratis. Hoy en día, cualquier sitio web debe llevar su propio certificado, y aunque hay múltiples formas de crear un certificado digital y de automatizar este proceso, siempre es mejor si lo tienes creado por defecto.</p>\n<p>Integración con los proveedores de Autenticación de AAD, Facebook, Google, Twitter o GitHub. Y se puede hacer una definición de autorizaciones y roles, con asignación temporal por horas de hasta un máximo de 7 días.</p>\n<p>También tiene un modelo de seguridad con un reverse-proxy para cuando llama a APIs, que se puede hacer sin que haya configuración CORS. </p>\n<h3>Let's go</h3>\n<p>En el Portal de Azure, creamos un nuevo recurso.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/129f33449e910fbecc3ccc87d93f6086/29114/Static-Web-App-Step01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAA6ElEQVQoz6WQTU/CQBCG94cLUbgq0sDNg1oEEzmREAKJB28aidzsRa00KDYWaEP3o92dzrrAwQOn1cmTzGQy73yRarN9fNYtn7qGUu2y2uy0+vdXgwfD9Wi8ozN8vLmd1M57BycXlUb70GmV6+6R4xJQOSLqPxlJ1mkcJ+E6/0pEmlLKeFFsuu1j0lt+A8IYA8RFMA1efKFAY2ExmTJmnDdbTt5CRLsLjJhrjeOI3wUrKZXV9Zu1jXv+iJ78uQSwFXMlxSrR/jwTMrP7NmUUZPFJ373vVy5AKWUh3lXnwOOMCmX3MaL/YT/Ha3T+9nXvRwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"New Static Web App\"\n        title=\"New Static Web App\"\n        src=\"/static/129f33449e910fbecc3ccc87d93f6086/587b0/Static-Web-App-Step01.png\"\n        srcset=\"/static/129f33449e910fbecc3ccc87d93f6086/8aea6/Static-Web-App-Step01.png 243w,\n/static/129f33449e910fbecc3ccc87d93f6086/44c61/Static-Web-App-Step01.png 485w,\n/static/129f33449e910fbecc3ccc87d93f6086/587b0/Static-Web-App-Step01.png 970w,\n/static/129f33449e910fbecc3ccc87d93f6086/5b795/Static-Web-App-Step01.png 1455w,\n/static/129f33449e910fbecc3ccc87d93f6086/29114/Static-Web-App-Step01.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>A continuación, podemos ver la clásica ventana de <em>Overview</em> y de <em>Plans</em> dónde se confirma que es un servicio gratuito.</p>\n<p> <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9c3d55db2aa321f77af0a7b790c35ff4/29114/Static-Web-App-Step02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAAvElEQVQoz9WOTQ/BQBCG94f7rJODpsXFiX4ocZOIkDgjhF/gro7d7rbdbnfXtr7ioIKTJ89hJpmZd4DStOudoaIbZc0sqkat7ViTlT1dSwfz7UVnthkt9mp3XGj0lFa/olslzazqJoBRhJCXBJCzWAguPgHsgmTpooMLEUI4jAhLD1zlTzLOMx8FSGh89MgJJSKdlrA7snmT7MtABEPsex70MzDGYQalVJ7IWxa3974AiB/412WWCyEkes0Zlat3T6kcSIMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Overview Static Web App\"\n        title=\"Overview Static Web App\"\n        src=\"/static/9c3d55db2aa321f77af0a7b790c35ff4/587b0/Static-Web-App-Step02.png\"\n        srcset=\"/static/9c3d55db2aa321f77af0a7b790c35ff4/8aea6/Static-Web-App-Step02.png 243w,\n/static/9c3d55db2aa321f77af0a7b790c35ff4/44c61/Static-Web-App-Step02.png 485w,\n/static/9c3d55db2aa321f77af0a7b790c35ff4/587b0/Static-Web-App-Step02.png 970w,\n/static/9c3d55db2aa321f77af0a7b790c35ff4/5b795/Static-Web-App-Step02.png 1455w,\n/static/9c3d55db2aa321f77af0a7b790c35ff4/29114/Static-Web-App-Step02.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n <p class=\"caption\">Overview</p>\n<p> <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/18e31de049babbafaeaa02035a7ad192/29114/Static-Web-App-Step03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAAv0lEQVQoz9XQuwrCMBgF4Dy41zo5WFp1cdJerOImiCg4q6j4BO4WN9MmTWIuxpaiIhR08+MMWc5/IMBo+83e2LCdquWWTafRDbzZxp9vdUbLfZZgsZusjmZ/WmoNjM6wZnsVy63bLoCExPGVYygFU0qqb4ADuq3P8SmEURQhTCiXQqos8j1CyjTPB1CCh5BdkFDf7urlhBBGCU0QxpikKKUkxzkvKus9DeMEoRijB30F5RhjxeXf/WtZFHr9+U939yR2wybR9xAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Plans Static Web App\"\n        title=\"Plans Static Web App\"\n        src=\"/static/18e31de049babbafaeaa02035a7ad192/587b0/Static-Web-App-Step03.png\"\n        srcset=\"/static/18e31de049babbafaeaa02035a7ad192/8aea6/Static-Web-App-Step03.png 243w,\n/static/18e31de049babbafaeaa02035a7ad192/44c61/Static-Web-App-Step03.png 485w,\n/static/18e31de049babbafaeaa02035a7ad192/587b0/Static-Web-App-Step03.png 970w,\n/static/18e31de049babbafaeaa02035a7ad192/5b795/Static-Web-App-Step03.png 1455w,\n/static/18e31de049babbafaeaa02035a7ad192/29114/Static-Web-App-Step03.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n <p class=\"caption\">Plans</p> \n<p> Se configura la creación del servicio estableciendo la suscripción, el grupo de recursos, nombre y la ubicación del Data Center, y establecemos el SKU en <em>Free</em>,actualmente no hay más opción que gratis, en un futuro seguramente cambiará.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/27785629fb34fdd44627cace2ce05f0e/29114/Static-Web-App-Step04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAA+UlEQVQoz6WSwUoDMRCG895aserV1VLx6trWFrwJIgretRXEQx9A9lCpBzXZJDvJZBJn9SAoxYg/H0MuXzLDRHT7o53DyVpRdvaOO0W5fTAent+MLm6ZydXdJ+PL2en1fXF0tr5bbvVPNnvDjf1BtzcQhA6s5pL+HvH6JqVSda214VhtbG3BYYgxfYNi/ODrIJSUjbXOOb4AABoA2zTe+6yXWXAASKRMgxgYzzVQlsxmSpECBW2TDwmpJVPmWQN67WhamYcFzJcwrezjS9t2/FUmaodHiss6MM86LFSQkPdy+kdEzGhvpTyrzPzJ8ifhLfOGaEUQEX7kHV/XdIjUTgUvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Basics Static Web App\"\n        title=\"Basics Static Web App\"\n        src=\"/static/27785629fb34fdd44627cace2ce05f0e/587b0/Static-Web-App-Step04.png\"\n        srcset=\"/static/27785629fb34fdd44627cace2ce05f0e/8aea6/Static-Web-App-Step04.png 243w,\n/static/27785629fb34fdd44627cace2ce05f0e/44c61/Static-Web-App-Step04.png 485w,\n/static/27785629fb34fdd44627cace2ce05f0e/587b0/Static-Web-App-Step04.png 970w,\n/static/27785629fb34fdd44627cace2ce05f0e/5b795/Static-Web-App-Step04.png 1455w,\n/static/27785629fb34fdd44627cace2ce05f0e/29114/Static-Web-App-Step04.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Una vez configurado el servicio se realiza la conexión con la cuenta de GitHub para poder seleccionar después el repositorio que se va a conectar al servicio.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7e4ff6221b4ef0c01226ff2fc4e16647/29114/Static-Web-App-Step05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABg0lEQVQoz5VQWUsCURSeP92mXm17KzPpvUUp6C2IKChaTJ0MiqLeCrKgtLSc7c5dz53ONCTOS9DHx+Vs3znnHouUq2Rla2xhjZQ2SHF9dmWzstus7tnIrYPLhJv7re3Dq+LqTnZxDQumy9X8cqWwXLFACcGoljz6P6yB47oewmecP7Wfj45PDk9qp7Xz84aNrDfshn2Bb71pn9Ub1ze3YCIwJqHluS4LQ8aYVPKi1ZqZmy/Mzk3lSDZHciSfyZCxicksyWdJYXwqU1wqpSZzzgXnCsCjTAMME9pEQWQe3to3t3fGmCSIM2CkxkJlFBnQoGmomGDYSkguxMDz37+cTq//2v2gLA4KqQYDJyUOAqqVDATYz/SxxxRCmy/H+fjs+74fMhUKEAqk0kqD43opMTomHmy6vv4MpIzFEDLe6/dxqWRhLEExEo8z/EIsHj0ACpP1hJB4w7gNGKTWEAelwmBKjObQwy30n8DuqWtfvtD7TqgEp5RizowAfoE2psQP+Ai+AVTuWAchhux3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Authorize Azure Static Web Apps\"\n        title=\"Authorize Azure Static Web Apps\"\n        src=\"/static/7e4ff6221b4ef0c01226ff2fc4e16647/587b0/Static-Web-App-Step05.png\"\n        srcset=\"/static/7e4ff6221b4ef0c01226ff2fc4e16647/8aea6/Static-Web-App-Step05.png 243w,\n/static/7e4ff6221b4ef0c01226ff2fc4e16647/44c61/Static-Web-App-Step05.png 485w,\n/static/7e4ff6221b4ef0c01226ff2fc4e16647/587b0/Static-Web-App-Step05.png 970w,\n/static/7e4ff6221b4ef0c01226ff2fc4e16647/5b795/Static-Web-App-Step05.png 1455w,\n/static/7e4ff6221b4ef0c01226ff2fc4e16647/29114/Static-Web-App-Step05.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Tras la autorización, se selecciona el repositorio y la rama que se va a enlazar con el servicio.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/81f635a14e66497919bc522f15771512/29114/Static-Web-App-Step06.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAA9ElEQVQoz52STUsDMRCG87+1YqtXV0uLV9e2tuBNEKngXangyV/gxWPN7mwyycwkjlUUFCH68mYyl2c+SEx/NNs/XmxVde/wtFfVe+P59PJ2dnWnXlzfv3u+XJ3fPFQnF9sH9WB0tjuc7hxN+sOJEQroQEP+u8z6xdqmaVuATuWgc63DQJxS/mZJaeOvxDTWeudCCFoAET2i8z7GWNRZgYDIIuC8MItmm1gEa8+cE5OA7cgTI7NnCWUwAOiQLClGym+7fagUFp2UGNZAHakjRB2hCFZSL9HOSELy6SJYT8r/lFk9dY/PTj+JvrIuL7+IiPCHXgHeYHXMZNtAXwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Repo and Azure Static Web Apps\"\n        title=\"Repo and Azure Static Web Apps\"\n        src=\"/static/81f635a14e66497919bc522f15771512/587b0/Static-Web-App-Step06.png\"\n        srcset=\"/static/81f635a14e66497919bc522f15771512/8aea6/Static-Web-App-Step06.png 243w,\n/static/81f635a14e66497919bc522f15771512/44c61/Static-Web-App-Step06.png 485w,\n/static/81f635a14e66497919bc522f15771512/587b0/Static-Web-App-Step06.png 970w,\n/static/81f635a14e66497919bc522f15771512/5b795/Static-Web-App-Step06.png 1455w,\n/static/81f635a14e66497919bc522f15771512/29114/Static-Web-App-Step06.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>En la sección de <em>Build</em> se define obligatoriamente la ruta del código de la web estática dentro del repo, y alternativamente la ruta dónde se encuentran las Azure Function y si aplica el artefacto resultante de la build de la app.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/81aa476bde1ccf673970c3cd9e3a8b75/29114/Static-Web-App-Step07.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAAvElEQVQoz9WRTQuCQBCG93+XkdU1ywo6ZmoW3YKKgs4VBl36CR06m66zH+7apkRQBH2cengZZgZeXphBesutdUcFw9Iafc2wqh3Pma7d2cadb4fLXS5v4Y9Xe6M3KdatSntQNp1S09ZNGwlOAYeMQvo5KIyiGAghVBVKWZIIJZEIKdMHqVWme4POQcAZk1ICxJDBGOOcv5UsbwjFNVTk41vm9Af+1awuI782+0d8OGEKgDFWTxIvUM8jT1wAM1F4QDtXFDMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Paths Azure Static Web Apps\"\n        title=\"Paths Azure Static Web Apps\"\n        src=\"/static/81aa476bde1ccf673970c3cd9e3a8b75/587b0/Static-Web-App-Step07.png\"\n        srcset=\"/static/81aa476bde1ccf673970c3cd9e3a8b75/8aea6/Static-Web-App-Step07.png 243w,\n/static/81aa476bde1ccf673970c3cd9e3a8b75/44c61/Static-Web-App-Step07.png 485w,\n/static/81aa476bde1ccf673970c3cd9e3a8b75/587b0/Static-Web-App-Step07.png 970w,\n/static/81aa476bde1ccf673970c3cd9e3a8b75/5b795/Static-Web-App-Step07.png 1455w,\n/static/81aa476bde1ccf673970c3cd9e3a8b75/29114/Static-Web-App-Step07.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Por último, se crea y comienza el despliegue del sitio estático.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c31d380b9defc12acdc34c61532a9bdb/29114/Static-Web-App-Step08.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAAvElEQVQoz8WQOwvCMBhF87+1Uh+r1aq4WtvagpsgRcFdUei/cBMcmnfzMDaDg12Cg4dLCIST7+MCf5aOlnkniLzJ2gui4SJL9ue0uJjkx5tNdrhuT2Ww2nXH0WC+8cOkN437YQyUYIwixoh2BzwqRDCmXAiplNLvQ+nWmKcmnwuAGEshzDe8QUrpMJlSYk0IoWxwkBFCZtG6rgkhjDE32a5qfYNbYfoH/iiXd/ysMKeEmsK5QFzINkwd9IsXP3B4PHGUai0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Confirm and Create Azure Static Web Apps\"\n        title=\"Confirm and Create Azure Static Web Apps\"\n        src=\"/static/c31d380b9defc12acdc34c61532a9bdb/587b0/Static-Web-App-Step08.png\"\n        srcset=\"/static/c31d380b9defc12acdc34c61532a9bdb/8aea6/Static-Web-App-Step08.png 243w,\n/static/c31d380b9defc12acdc34c61532a9bdb/44c61/Static-Web-App-Step08.png 485w,\n/static/c31d380b9defc12acdc34c61532a9bdb/587b0/Static-Web-App-Step08.png 970w,\n/static/c31d380b9defc12acdc34c61532a9bdb/5b795/Static-Web-App-Step08.png 1455w,\n/static/c31d380b9defc12acdc34c61532a9bdb/29114/Static-Web-App-Step08.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>A diferencia de la adquisición de otros servicios de Azure, que se puede realizar desde un terminal (PowerShell, Azure CLI...), éste aún no se puede construir así, además de porque está en preview, probablemente porque requiere la creación de un token de la cuenta de GitHub para poder crear la <strong>GitHub Action</strong> en el repositorio, y para lograr esta integración hay que realizar una autenticación interactiva.</p>\n<blockquote>\n<p><strong>Nota</strong>: Si intentas exportar la plantilla ARM, te da este error \"The schema of resource type 'Microsoft.Web/staticSites' is not available. Resources of this type will not be exported to the template\".</p>\n</blockquote>\n<p>Inmediatamente después de la adquisición del servicio, si se accede a las Actions del repositorio, se puede ver que está ejecutándose un yaml que ha creado el servicio de forma automática.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eb1fe6113db73761e04ca715407dbbbf/29114/Static-Web-App-GitHubActions.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABHklEQVQoz82PS0/DMBCE/WOgjzQUIcob/i3cQJXSpmko9NoLV66ckHqiTZrESWo7g+3gEEAFIXFgpE872l2PbXJ2foHjk1McHB7B7u7CsndgdUpa7c4Xmm0LW41mxXajpbHsLvb2eyCuf4+bgY+BdwfPn2Dky3o7hT+ZwvVkfzQucd9xXA/O0NO+77i47juyDmV/DIJvxDjHmjH8RkQIAc6FtAUenxNczV5wOVvg4SlCnlKEqxhxnCChKbI8R5pm2udrhmAVIZKzMoNrSFEUUCjFmcA8ZJgHDCFlMijCYhliGYT6YL7moDnXD1CBlGbamwxF9WUTWpe5VaFeoXbE25724mNYFVjUlupsUn1mrOmRTcufw3/CnCH4Y/3/wFfkfSTHYK4uoQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GitHub Actions executing\"\n        title=\"GitHub Actions executing\"\n        src=\"/static/eb1fe6113db73761e04ca715407dbbbf/587b0/Static-Web-App-GitHubActions.png\"\n        srcset=\"/static/eb1fe6113db73761e04ca715407dbbbf/8aea6/Static-Web-App-GitHubActions.png 243w,\n/static/eb1fe6113db73761e04ca715407dbbbf/44c61/Static-Web-App-GitHubActions.png 485w,\n/static/eb1fe6113db73761e04ca715407dbbbf/587b0/Static-Web-App-GitHubActions.png 970w,\n/static/eb1fe6113db73761e04ca715407dbbbf/5b795/Static-Web-App-GitHubActions.png 1455w,\n/static/eb1fe6113db73761e04ca715407dbbbf/29114/Static-Web-App-GitHubActions.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Una vez ejecutada la <strong>GitHub Action</strong>, al acceder a la ruta del sitio estático, se ve el sitio estático desplegado.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/23efdf24e1b6609f33d492ea6ca65b13/29114/Static-Web-App-Deployed.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABLUlEQVQoz52S0UoCQRSG50EKQqstN4UttKB6hlrreisRgupGiKC07roICoJeozfoAQLvuhRUutnoIigHxVZnzt/sbqEyG20e+Bj4/zNn/zMsS61aMNctGCtpJLPzmM6lYCrNWE5jJmtiNmcisTSHiUwCk5mkOnV8fWrRwMKaBWaXd7CpyJ/vYUuxfVHA/vUxDm5OcHR7itJdBcWrkupxYFd2YZd18krfOHPgXB6CIaJc10W93gDnHJJkQKwigBERfsA3QgjlEbzPHqSgsHeoL4qgR9LowABliH4Pb88veHqoodPyYg30kVIOVh79Uh/V+0c0qk3Ni9yUBluwKMOv1+YHum1P02MPDMXQ4NxD672jVhfjJxy+IIQM3sN/5LET/pbkr2GxEmq/wz8SfgHbMRMyHKgujwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Static Web App deployed\"\n        title=\"Static Web App deployed\"\n        src=\"/static/23efdf24e1b6609f33d492ea6ca65b13/587b0/Static-Web-App-Deployed.png\"\n        srcset=\"/static/23efdf24e1b6609f33d492ea6ca65b13/8aea6/Static-Web-App-Deployed.png 243w,\n/static/23efdf24e1b6609f33d492ea6ca65b13/44c61/Static-Web-App-Deployed.png 485w,\n/static/23efdf24e1b6609f33d492ea6ca65b13/587b0/Static-Web-App-Deployed.png 970w,\n/static/23efdf24e1b6609f33d492ea6ca65b13/5b795/Static-Web-App-Deployed.png 1455w,\n/static/23efdf24e1b6609f33d492ea6ca65b13/29114/Static-Web-App-Deployed.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Configuración</h3>\n<p>Dentro del servicio en el Portal de Azure, a diferencia de otros servicios, se puede establecer muy pocas configuraciones, eso sí, son bastante atípicas comparadas con otros servicios <em>PaaS</em> como las Web App.</p>\n<h4>Configuration</h4>\n<p>Permite establecer settings por <code class=\"language-text\">Environment</code>, los settings son encriptados y expuestos sobre un canal también encriptado. Otra peculiaridad respecto a otros servicios es que estos settings no son para ser utilizados por el sitio estático en sí, sino que son para API's utilizadas como backend dentro del servicio, es decir para las Azure Functions asociadas a este servicio.</p>\n<h4>Custom Domains</h4>\n<p>La característica de Custom Domain en un servicio <em>PaaS</em> como la Web App o la API App, es un servicio que requiere un Service Plan mayor al gratuito, en este caso, el servicio \"viene de caja\" con la funcionalidad de forma gratuita, y para configurarlo basta con crear un registro CNAME que apunte a la url del sitio estático <code class=\"language-text\">*.azurestaticapps.net</code>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b8896b748654f9f77283c26b9f812ea/29114/Static-Web-App-Domains.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABCElEQVQoz7VRPU8DMQzN/+ajFUxIQKnKwMRV11K6MRSQOjKgIvVPsDHR+0qdxPY5GBAnUHuChac3xHbec2KbzuDq6GLa6SW7J8nOcXJ4PhndLsb3T8rr+XI6X6azx8ubh/Hdojec7Z0ODwaTbn+0f5Z2+6nJvYMyY/TCKBTiBpgCOquUmj8S0pRMBY651tMaICASaVTXIg19QE0FrSEhMYDzGhDpJZMVpQOgdxF/ucp3MhNiUJ+NajSvZekBtFlsgYWwKta5dUXlKofW09qTdeRQjHVOnWM7VjbkQLXEQKzPbahfMCJRRLbKPrPPGb5U/GNQzcDib2iz/pO4blf/c2ddofd+6zreAJCkdrCBY63oAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Custom Domains\"\n        title=\"Custom Domains\"\n        src=\"/static/1b8896b748654f9f77283c26b9f812ea/587b0/Static-Web-App-Domains.png\"\n        srcset=\"/static/1b8896b748654f9f77283c26b9f812ea/8aea6/Static-Web-App-Domains.png 243w,\n/static/1b8896b748654f9f77283c26b9f812ea/44c61/Static-Web-App-Domains.png 485w,\n/static/1b8896b748654f9f77283c26b9f812ea/587b0/Static-Web-App-Domains.png 970w,\n/static/1b8896b748654f9f77283c26b9f812ea/5b795/Static-Web-App-Domains.png 1455w,\n/static/1b8896b748654f9f77283c26b9f812ea/29114/Static-Web-App-Domains.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h4>Functions</h4>\n<p>En este apartado localizamos todas las Azure Function que están definidas en el código del repositorio, por defecto la carpeta \"api\" de la raíz.</p>\n<p>Estas Azure Function tienen las siguientes características:</p>\n<ul>\n<li>Tienen seguridad integrada con acceso directo a los datos de autenticación y autorización basada en roles de usuario.</li>\n<li>Enrutado sin necesidad de configurar CORS.</li>\n<li>Son V3, compatibles con Node.js 12.</li>\n<li>Triggers HTTP y bindings de salida.</li>\n</ul>\n<p>Pero también tiene estas limitaciones o restricciones:</p>\n<ul>\n<li>La ruta de la API debe tener el prefijo \"api\".</li>\n<li>Deben estar desarrolladas en JavaScript.</li>\n<li>Triggers y binding están limitados a HTTP.</li>\n<li>Los logs sólo están disponibles si añades Application Insights a las Functions.</li>\n</ul>\n<h4>Environments</h4>\n<p>Una de las características del servicio, es que crea Environments a partir de <em>Pull Requests</em>, permitiéndote previsualizar en un entorno previo a producción cómo ha quedado la funcionalidad. Esto, que a priori es una técnica que se utiliza en los pipelines de CI / CD para validar, aceptar y desplegar sin realizar cortes en el servicio, lo realiza por defecto este servicio evitando así, tener que crear y definir toda la estrategia al completo.</p>\n<p>Cuando es aceptado el <em>PR</em>, automáticamente se produce el despliegue en el slot principal.</p>\n<p>Las principales limitaciones en este apartado:</p>\n<ul>\n<li>La url del sitio generado para el <em>PR</em> es pública a pesar de que el repositorio de GitHub sea privado.</li>\n<li>Actualmente el número de Environments de pre-producción está limitado a uno. A futuro, cuando el servicio tenga otros SKU de pago, seguramente se ampliará el número de environments.</li>\n</ul>\n<h4>Role management</h4>\n<p>En este apartado se puede establecer una gestión de roles con una limitación temporal para poder acceder a los contenidos, para ello, se pulsa en invitar y se crea un link de invitación.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d22614a2962238e7a802ab5d652fdf82/29114/Static-Web-App-Role01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABBElEQVQoz51Sy0oDQRCcb/bqIcpeIgg+CXrRwy5RxKMBA55VFAT/wJMXY5x3T8/T3qwRQdSYohhquru6m2FYtVdvHJz2to5XN4lH1f6wvrhuRjfN6PZkfN9xeHl3dvXQPzxfqQZUtrbT9Lbr9d2aeVRG8ughp5AjlpLLD2izyZeSPiNMGIgxksM5RPSk6QQ3uyGmTCgdlTYAEFOeTrjkCoxj2toQArVpEzGSSHNQhy5SZvugA8rllLRQVhlngL1KAdbE1M4ov4JrfHnTwnphUGiU1jOuFFhLc8pfAAwYEpFLPeVSSM3Kwviy2odYzlz+bW6fZWnz9y/AFjc9PsPTxLbrz+Pvx3h18GVcWioAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Role Management\"\n        title=\"Role Management\"\n        src=\"/static/d22614a2962238e7a802ab5d652fdf82/587b0/Static-Web-App-Role01.png\"\n        srcset=\"/static/d22614a2962238e7a802ab5d652fdf82/8aea6/Static-Web-App-Role01.png 243w,\n/static/d22614a2962238e7a802ab5d652fdf82/44c61/Static-Web-App-Role01.png 485w,\n/static/d22614a2962238e7a802ab5d652fdf82/587b0/Static-Web-App-Role01.png 970w,\n/static/d22614a2962238e7a802ab5d652fdf82/5b795/Static-Web-App-Role01.png 1455w,\n/static/d22614a2962238e7a802ab5d652fdf82/29114/Static-Web-App-Role01.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Una vez generado el link, el invitado accede a esa url y se autentica con el proveedor que previamente se ha seleccionado en la invitación.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/efbc21a25e0e84cb4fcd82f582debc2f/29114/Static-Web-App-Role02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAACAElEQVQozyXO2W7bMBAFUP1kYstugQR56fbQ/l//oIirlRIlUuI+Q5myZSexgSSNqzbAwcV9uYOJfnz7/P3rl093tzfr+GO8XC+u18vFOl6uVvEsnq3jxWo5u14trt7FV8sPy9u7m+jYt0dGnnh57urHvjlIttN9MHKwCpwyoCTK3kvuRYO8wpZgUyOjvmNbEe1Yvaf5RH7vSRLqfGgr4BRE59EMA/jgcfQCJFG0UFWqikRlc+a6IoZGgdPQkLEuAi0GSuajhjXe6PPp+Pr6/Pb253K5hCkQWZWapDJLZJKqrNBlZesIO4YthZa6htp2XjLJGDrnp6O0uB337+NaVZUmuUxzlZQqIzqntopsJzTninHJuGC8533He+cgjDv0w9Pp/Pz8Mk6hUVVrCNUZ1Wljssbk3JJICt11suWCMlEzSbmiXGqHp9NpmqbT0+Pl8rY7jJ0mws5yYbP/CulIxKSjvSHcpMwkzBadLTujYDgeDgjQKUvttDsEbUrrSucy59I5LeQWSNQqrATkPSQcNhyyHkrhOucfz+fjw4Fr95Mgbg1C4SEfIN1CMkDiIUMso8YOlRpy6TPhU+HnQjRSDUzb3mnn9T70CHTAcsRsj5sJ73e4mXvw89tupDYQsy30P0QPtfHMYuecBKOdNMA90oDlDrMD3j/grz1sBrNBm/0FxS8nLhbqBkYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Role Management\"\n        title=\"Role Management\"\n        src=\"/static/efbc21a25e0e84cb4fcd82f582debc2f/587b0/Static-Web-App-Role02.png\"\n        srcset=\"/static/efbc21a25e0e84cb4fcd82f582debc2f/8aea6/Static-Web-App-Role02.png 243w,\n/static/efbc21a25e0e84cb4fcd82f582debc2f/44c61/Static-Web-App-Role02.png 485w,\n/static/efbc21a25e0e84cb4fcd82f582debc2f/587b0/Static-Web-App-Role02.png 970w,\n/static/efbc21a25e0e84cb4fcd82f582debc2f/5b795/Static-Web-App-Role02.png 1455w,\n/static/efbc21a25e0e84cb4fcd82f582debc2f/29114/Static-Web-App-Role02.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Y por último realiza el consentimiento antes de acceder a los recursos.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/42349175732cd57082512372d10ee0e1/29114/Static-Web-App-Role03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.32098765432099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABPElEQVQoz62R32qDMBSHfdlVhFpqN7YnGt17DHa7jbGLwtjFGFNr1dIaJZrkt+RErYItu1jgIyF6vvMnzs3tHa5XAZZBgMViAd/34XkeXNc9y0xzNRvfzedzrIIlHECiLHM0jcB/LEdKiTRNUVUVhBBa3NA+RClFSI1Zn3uO97Sms5T2m1km1lFauEsSHA4H1HVt4VzvHJxbOiGhA++/SnjrN2y+MxIJ7TgJ9U95nhNFURCs5ChYpasuKUFXgd0VsgZYP27w9PoxEppuqOUw2uInjBFFEREaQkOILMsg2wBbJZ36mVGSNiEJTctsv8UxixHHkSam9g2Msb7lU4V2F4PZqaGQC4X1c4OHlxrHqtaXzeTrdUEYSCaFOhESBuxY/+/4ESYCzyUjoZ1HSx98WXBR2M10MFv80TMp/AUugT2cUjYc2wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Role Management\"\n        title=\"Role Management\"\n        src=\"/static/42349175732cd57082512372d10ee0e1/587b0/Static-Web-App-Role03.png\"\n        srcset=\"/static/42349175732cd57082512372d10ee0e1/8aea6/Static-Web-App-Role03.png 243w,\n/static/42349175732cd57082512372d10ee0e1/44c61/Static-Web-App-Role03.png 485w,\n/static/42349175732cd57082512372d10ee0e1/587b0/Static-Web-App-Role03.png 970w,\n/static/42349175732cd57082512372d10ee0e1/5b795/Static-Web-App-Role03.png 1455w,\n/static/42349175732cd57082512372d10ee0e1/29114/Static-Web-App-Role03.png 1920w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>GitHub Actions</h2>\n<p>GitHub Actions es la solución de GitHub para automatizar, personalizar y ejecutar workflows que permitan desplegar una solución desde un repositorio de GitHub.</p>\n<p>Al igual que los ficheros yaml de los pipelines de Azure DevOps, GitHub tiene su alternativa también basada en ficheros yaml. Estas automatizaciones, como las de DevOps, permiten crear artefactos, descargar dependencias, validar la calidad de código, automatizar tests, e infinidad de posibilidades que se pueden combinar para construir un workflow que se ajuste a las necesidades de una solución.</p>\n<p>Con estas premisas, al final se puede construir una solución <em>end-to-end</em> desde su creación y desarrollo del código en el repositorio hasta verlo desplegado y publicado en un servicio <em>PaaS</em>.</p>\n<h3>GitHub Actions y Static Web App</h3>\n<p>Durante la creacion del sitio hemos establecido la comunicación con un repositorio de GitHub, en el cual se ha creado un workflow que es desencadenado cuando se producen cambios en él.</p>\n<p>Este workflow define cómo es desencadenado, y las acciones que realiza.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Azure Static Web Apps CI/CD\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> gh<span class=\"token punctuation\">-</span>pages\n  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>opened<span class=\"token punctuation\">,</span> synchronize<span class=\"token punctuation\">,</span> reopened<span class=\"token punctuation\">,</span> closed<span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> gh<span class=\"token punctuation\">-</span>pages\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build_and_deploy_job</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> github.event_name == 'push' <span class=\"token punctuation\">|</span><span class=\"token punctuation\">|</span> (github.event_name == 'pull_request' <span class=\"token important\">&amp;&amp;</span> github.event.action <span class=\"token tag\">!=</span> 'closed')\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build and Deploy Job\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">submodules</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build And Deploy\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> builddeploy\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> Azure/static<span class=\"token punctuation\">-</span>web<span class=\"token punctuation\">-</span>apps<span class=\"token punctuation\">-</span>deploy@v0.0.1<span class=\"token punctuation\">-</span>preview\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">azure_static_web_apps_api_token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.AZURE_STATIC_WEB_APPS_API_TOKEN_ZEALOUS_TREE_02DE01503 <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">repo_token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token comment\"># Used for Github integrations (i.e. PR comments)</span>\n          <span class=\"token key atrule\">action</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"upload\"</span>\n          <span class=\"token comment\">###### Repository/Build Configurations - These values can be configured to match you app requirements. ######</span>\n          <span class=\"token comment\"># For more information regarding Static Web App workflow configurations, please visit: https://aka.ms/swaworkflowconfig</span>\n          <span class=\"token key atrule\">app_location</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/\"</span> <span class=\"token comment\"># App source code path</span>\n          <span class=\"token key atrule\">api_location</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"api\"</span> <span class=\"token comment\"># Api source code path - optional</span>\n          <span class=\"token key atrule\">app_artifact_location</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token comment\"># Built app content directory - optional</span>\n          <span class=\"token comment\">###### End of Repository/Build Configurations ######</span>\n\n  <span class=\"token key atrule\">close_pull_request_job</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> github.event_name == 'pull_request' <span class=\"token important\">&amp;&amp;</span> github.event.action == 'closed'\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Close Pull Request Job\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Close Pull Request\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> closepullrequest\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> Azure/static<span class=\"token punctuation\">-</span>web<span class=\"token punctuation\">-</span>apps<span class=\"token punctuation\">-</span>deploy@v0.0.1<span class=\"token punctuation\">-</span>preview\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">azure_static_web_apps_api_token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.AZURE_STATIC_WEB_APPS_API_TOKEN_ZEALOUS_TREE_02DE01503 <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">action</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"close\"</span></code></pre></div>\n<p>En el apartado de los trigger, en este caso:</p>\n<ul>\n<li>Con un <em>push</em> en la rama <code class=\"language-text\">gh-pages</code>.</li>\n<li>Con los <em>Pull Requests</em> abiertos, sincronizados, reabiertos o cerrados</li>\n</ul>\n<p>Las acciones o trabajos que lleva a cabo en el caso de los <em>Pull Request</em> cerrados, invoca a una Action con el token de la Static Web App y el parámetro \"close\".</p>\n<p>En el resto de las casuísticas, con la misma Action le envía estos parámetros:</p>\n<ul>\n<li>Token Azure Static Web App</li>\n<li>Token del Repositorio de GitHub</li>\n<li>Action \"updated\"</li>\n<li>Path relativo de la App dentro del repositorio</li>\n<li>Path relativo de la API si la hubiera</li>\n<li>Path relativo del directorio del artefacto si éste existiera</li>\n</ul>\n<p>Por supuesto, todos los tokens como <em>secure string</em>, es decir encriptados de forma automática desde la creación del servicio <em>PaaS</em> en el Portal de Azure.</p>\n<h2>Conclusiones</h2>\n<p>Esta solución está aún en preview, y seguramente sufra cambios cuando se consolide y esté más madura. Tiene limitaciones, por ejemplo, que no esté integrada con Azure DevOps, que, aunque todo hace sospechar lo peor para Azure DevOps, es hoy por hoy la plataforma más completa para ALM desde mi humilde opinión.</p>\n<p>La idea es muy buena, crear un sitio estático hoy en día es muy habitual, y tener este tipo de soluciones que te permitan desplegar de forma gratuita, con buenas prácticas de DevOps, haciendo CI / CD sin posibilidad de que se pueda desplegar de forma manual, es una buena noticia para el mundo de los desarrolladores.</p>\n<p>Ampliar la funcionalidad con Azure Functions también es un punto muy bueno, a pesar de la limitación tecnológica a JavaScript, aunque por otro lado es comprensible, si estamos hablando de un sitio estático.</p>\n<p>Estos son los JavaScript Frameworks con los que se puede desarrollar una solución estática compatible con el servicio:</p>\n<ul>\n<li>Angular CLI</li>\n<li>Vue CLI</li>\n<li>React CLI</li>\n</ul>\n<p>Generadores de sitios estáticos:</p>\n<ul>\n<li>Gatsby CLI</li>\n<li>Hugo</li>\n<li>Jekyll</li>\n</ul>\n<p>Para empezar a crear tu sitio estático, puedes ver este <a href=\"../../05/16\">post</a> en el que se construye un sitio estático con <strong>GatsbyJS</strong>.</p>","frontmatter":{"title":"Azure Static Web App","date":"2020, Jun 07","description":"Nuevo servicio PaaS de Azure que te permite crear sitios estáticos en Azure sin coste.","tags":["Actions","Azure","DevOps","GitHub","Preview"],"img":{"childImageSharp":{"fluid":{"aspectRatio":1.94,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAC/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwAB/9oADAMBAAIQAxAAAAECduUzz7L/xAAbEAACAgMBAAAAAAAAAAAAAAAAAgEDERIxMv/aAAgBAQABBQJK2cw0GjwV+V6f/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BR//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aar/xAAbEAABBAMAAAAAAAAAAAAAAAAQAAECEiExkf/aAAgBAQAGPwLHVV9GI//EABsQAQACAgMAAAAAAAAAAAAAAAEAETFBIVFx/9oACAEBAAE/IVClHbEtDrpANYjal8QiqXmbfZ//2gAMAwEAAgADAAAAEDz/AP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxBMj//EABcRAQADAAAAAAAAAAAAAAAAAAABIXH/2gAIAQIBAT8Qi7L/xAAbEAEBAAMAAwAAAAAAAAAAAAABEQAhMUFxwf/aAAgBAQABPxDYA3RiP45OPrJqnnK/MERACF11w3CCFLlVFrXc/9k=","sizes":"(max-width: 1940px) 100vw, 1940px","src":"/static/35529ea937e31194a994788d4be40b93/73822/Cloud.jpg","srcSet":"/static/35529ea937e31194a994788d4be40b93/fe61d/Cloud.jpg 485w,\n/static/35529ea937e31194a994788d4be40b93/9f4a9/Cloud.jpg 970w,\n/static/35529ea937e31194a994788d4be40b93/73822/Cloud.jpg 1940w"}}}}}},"pageContext":{"slug":"/2020/06/07/","previous":{"fields":{"slug":"/2020/05/31/"},"frontmatter":{"title":"Durable Functions Patterns","tags":["Azure","Functions","Patterns","Serverless"],"img":{"childImageSharp":{"fluid":{"aspectRatio":1.941544885177453,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd6bQwD/xAAXEAEAAwAAAAAAAAAAAAAAAAABABEg/9oACAEBAAEFAmF5/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAACAx/9oACAEBAAY/AiL/AP/EABkQAAMAAwAAAAAAAAAAAAAAAAEQMQARgf/aAAgBAQABPyGMIrp1iL//2gAMAwEAAgADAAAAEFPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhAAAQUBAAAAAAAAAAAAAAAAAQAQETFBUf/aAAgBAQABPxAiCi8HVUw5EmKqb//Z","sizes":"(max-width: 1940px) 100vw, 1940px","src":"/static/27ed97e1c169ceb10426eb50dbf6bc6b/6b48d/Patterns.jpg","srcSet":"/static/27ed97e1c169ceb10426eb50dbf6bc6b/2f037/Patterns.jpg 930w,\n/static/27ed97e1c169ceb10426eb50dbf6bc6b/23f4e/Patterns.jpg 1860w,\n/static/27ed97e1c169ceb10426eb50dbf6bc6b/6b48d/Patterns.jpg 1940w"}}}}},"next":{"fields":{"slug":"/2020/06/16/"},"frontmatter":{"title":"Publicar una imagen Docker con GitHub Actions","tags":["Actions","DevOps","Docker","GatsbyJS","GitHub"],"img":{"childImageSharp":{"fluid":{"aspectRatio":1.941544885177453,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHYuxEMX//EABgQAQEAAwAAAAAAAAAAAAAAAAECEBMx/9oACAEBAAEFAlrZSknM/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAADAQEAAAAAAAAAAAAAAAABESEAIP/aAAgBAQAGPwJKaBnn/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARIDFh8P/aAAgBAQABPyEYA93EjxLiUKVh/9oADAMBAAIAAwAAABA3z//EABYRAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxA1f//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQEBAQADAAAAAAAAAAAAABEBIQAgMYH/2gAIAQEAAT8QucUS5tllU4AGvTXQ9YP3kALGxTw//9k=","sizes":"(max-width: 1940px) 100vw, 1940px","src":"/static/03e2727a7cebd298e7e34afda998ab2e/6b48d/Actions-Docker.jpg","srcSet":"/static/03e2727a7cebd298e7e34afda998ab2e/2f037/Actions-Docker.jpg 930w,\n/static/03e2727a7cebd298e7e34afda998ab2e/23f4e/Actions-Docker.jpg 1860w,\n/static/03e2727a7cebd298e7e34afda998ab2e/6b48d/Actions-Docker.jpg 1940w"}}}}}}}}